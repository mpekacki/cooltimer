(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{10:function(t,e,n){t.exports=n(25)},15:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(8),s=n.n(i),r=(n(15),n(1)),c=n(2),l=n(4),u=n(3),k=n(5),d=n(9),h=(n(24),function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).onClickStartWorking=function(){n.setStateAndStorage({isWork:!0,timerRunning:!0})},n.onClickReturnToWork=function(){n.setStateAndStorage({isWork:!0,timerSeconds:60*n.settings.workMinutes})},n.onClickGoOnABreak=function(){var t=Math.round(n.state.availableBreakSeconds);n.setStateAndStorage({isWork:!1,timerSeconds:t,availableBreakSeconds:t})},n.tick=function(){if(n.state.timerRunning){var t={},e=n.state.timerSeconds-1;if(t.timerSeconds=e,n.state.isWork){var a=n.state.totalWorkedSeconds+1;t.totalWorkedSeconds=a;var o=1*n.settings.shortBreakMinutes/n.settings.workMinutes;n.state.availableBreakSeconds>=60*n.settings.shortBreakMinutes?t.availableBreakSeconds=n.state.availableBreakSeconds+o:t.hiddenAvailableBreakSeconds=n.state.hiddenAvailableBreakSeconds+o}else{var i=n.state.availableBreakSeconds-1;t.availableBreakSeconds=i}n.setStateAndStorage(t),0===e&&n.onTimerFinish()}},n.onTimerFinish=function(){var t=n.state.isWork;if(t){var e,a,o=n.state.cycle+1,i=n.state.availableBreakSeconds;o===n.settings.longBreakFreq&&(o=0,i+=60*n.settings.longBreakMinutes-60*n.settings.shortBreakMinutes),i+=n.state.hiddenAvailableBreakSeconds,i=Math.round(i),n.state.continousWork?(e=60*n.settings.workMinutes,a=!0):(e=i,a=!1),n.setStateAndStorage({timerSeconds:e,availableBreakSeconds:i,hiddenAvailableBreakSeconds:0,isWork:a,cycle:o})}else n.setStateAndStorage({timerSeconds:60*n.settings.workMinutes,isWork:!0});if(n.notifications&&n.notificationsGranted){var s=t?"Work finished":"Break finished";n.notifications.createNotification(s)}},n.onClickHoldWork=function(){n.setStateAndStorage({timerRunning:!1})},n.onClickResumeWork=function(){n.setStateAndStorage({timerRunning:!0})},n.onChangeContinousWork=function(t){n.setStateAndStorage({continousWork:t.target.checked})},n.setStateAndStorage=function(t){n.setState(t),n.storage&&(n.storage.state=Object.assign(n.state,t))},n.settings=t.settings,n.storage=t.storage,n.storage&&n.storage.state?n.state=n.storage.state:n.state={timerSeconds:60*t.settings.workMinutes,totalWorkedSeconds:0,isWork:null,availableBreakSeconds:0,hiddenAvailableBreakSeconds:0,cycle:0,notificationsGranted:!1,timerRunning:null,continousWork:!1},setInterval(n.tick,1e3),t.notifications&&(n.notifications=t.notifications,n.notifications.requestPermission().then((function(t){"granted"===t&&(n.notificationsGranted=!0)}))),n}return Object(k.a)(e,t),Object(c.a)(e,[{key:"formatSecondsAsTimer",value:function(t){var e=Math.floor(t/60)+"";1===e.length&&(e="0"+e);var n=t%60+"";return 1===n.length&&(n="0"+n),e+":"+n}},{key:"formatSecondsAsText",value:function(t){t=Math.round(t);var e=Math.floor(t/3600)+"",n="1"===e?"hour":"hours";t%=3600;var a=Math.floor(t/60)+"",o=(t%=60)%60+"";return e+" "+n+" "+a+" "+("1"===a?"minute":"minutes")+" "+o+" "+("1"===o?"second":"seconds")+" "}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d.Helmet,null,o.a.createElement("title",null,this.formatSecondsAsTimer(this.state.timerSeconds))),o.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossorigin:"anonymous"}),!0===this.state.timerRunning&&o.a.createElement("button",{className:"btn btn-warning",onClick:this.onClickHoldWork},"Hold work"),!1===this.state.timerRunning&&o.a.createElement("button",{className:"btn btn-secondary",onClick:this.onClickResumeWork},"Resume work"),null===this.state.isWork&&o.a.createElement("button",{className:"btn btn-success",onClick:this.onClickStartWorking},"Start working"),o.a.createElement("br",null),o.a.createElement("h1",null,this.formatSecondsAsTimer(this.state.timerSeconds)),!0===this.state.isWork&&this.state.availableBreakSeconds?o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"btn btn-success",onClick:this.onClickGoOnABreak},"Go on a break"),o.a.createElement("br",null)):null,!1===this.state.isWork?o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"btn btn-secondary",onClick:this.onClickReturnToWork},"Return to work"),o.a.createElement("br",null)):null,this.formatSecondsAsText(this.state.totalWorkedSeconds),o.a.createElement("br",null),this.formatSecondsAsText(this.state.availableBreakSeconds),o.a.createElement("br",null),o.a.createElement("input",{type:"checkbox",value:"Continuous work","data-testid":"cont-work",onChange:this.onChangeContinousWork,checked:this.state.continousWork})," Continuous work")}}]),e}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).call(this,25,5,10,4,480))}return Object(k.a)(e,t),e}(function(){function t(e,n,a,o,i){Object(r.a)(this,t),this._workMinutes=e,this._shortBreakMinutes=n,this._longBreakMinutes=a,this._longBreakFreq=o,this._workDayMinutes=i}return Object(c.a)(t,[{key:"workMinutes",get:function(){return this._workMinutes}},{key:"shortBreakMinutes",get:function(){return this._shortBreakMinutes}},{key:"longBreakMinutes",get:function(){return this._longBreakMinutes}},{key:"longBreakFreq",get:function(){return this._longBreakFreq}},{key:"workDayMinutes",get:function(){return this._workDayMinutes}}]),t}()),g=function(){function t(){Object(r.a)(this,t)}return Object(c.a)(t,[{key:"requestPermission",value:function(){return Notification.requestPermission()}},{key:"createNotification",value:function(t,e){new Notification(t,e)}}]),t}(),f=function(){function t(){Object(r.a)(this,t)}return Object(c.a)(t,[{key:"state",get:function(){return JSON.parse(localStorage.getItem("timer_state"))},set:function(t){localStorage.setItem("timer_state",JSON.stringify(t))}}]),t}();s.a.render(o.a.createElement(h,{basename:"/cooltimer",settings:new m,notifications:new g,storage:new f}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.c8f61044.chunk.js.map