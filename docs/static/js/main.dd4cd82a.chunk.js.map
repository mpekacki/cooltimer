{"version":3,"sources":["UserSettings.js","Constants.js","Timer.js","SimpleTaskManager.js","TaskTimes.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","DefaultSettings.js","Settings.js","BrowserNotifications.js","LocalStorage.js","index.js"],"names":["UserSettings","onChangeWorkMinutes","event","props","onchange","workMinutes","target","value","onChangeShortBreakMinutes","shortBreakMinutes","onChangeLongBreakMinutes","longBreakMinutes","onChangeLongBreakFreq","longBreakFreq","Form","Row","Col","sm","Group","as","Label","column","xs","Control","type","this","onChange","React","Component","Constants","taskName","Timer","onClickStartWorking","setStateAndStorage","isWork","timerRunning","markTimerStart","timerSeconds","Date","now","onClickReturnToWork","lastTimerSeconds","newTimerSeconds","alwaysStartFullWork","lastWorkTimerSeconds","notifyCycleChange","onClickGoOnABreak","availableBreakSeconds","Math","round","tick","secondsDiff","timerLastUpdatedAt","newState","calculateNewState","wasWork","oldTimerSeconds","timerEndAt","timerStartedAt","timerStartedWithSeconds","start","end","onTimerFinish","onClickHoldWork","handleClose","onClickResumeWork","onChangeContinousWork","continousWork","checked","onChangeAutoStartTimers","autoStartTimers","onChangeAlwaysStartFullWork","handleShow","setState","showHoldModal","window","Worker","worker","onmessage","interval","setInterval","state","terminate","clearInterval","getTimerMinutes","getTimerSeconds","String","padStart","floor","seconds","hoursPart","hoursLabel","minutesPart","secondsPart","trim","tempState","totalWorkedSeconds","hiddenAvailableBreakSeconds","cycle","totalCombinedTime","cycleChanges","notificationToShow","secondsPassed","availableBreakSecondsIncrement","stateChange","newCycle","newAvailableBreakSeconds","newIsWork","Object","assign","push","forEach","cycleChange","showNotification","Modal","show","onHide","Header","closeButton","Title","CONFIRM_HOLD_TIMER_MODAL_HEADER","Body","CONFIRM_HOLD_TIMER_MODAL_TEXT","Footer","Button","variant","onClick","CONFIRM_HOLD_TIMER_BUTTON_TEXT","className","ButtonGroup","HOLD_WORK_BUTTON_TEXT","RESUME_WORK_BUTTON_TEXT","START_WORKING_BUTTON_TEXT","onClickReset","RESET_BUTTON_TEXT","WORK_LABEL_TEXT","BREAK_LABEL_TEXT","GO_ON_A_BREAT_BUTTON_TEXT","OverlayTrigger","overlay","Tooltip","id","BREAK_WILL_BECOME_AVAILABLE_TEXT","disabled","style","pointerEvents","RETURN_TO_WORK_BUTTON_TEXT","formatSecondsAsText","span","offset","getFutureAdditionBreakTime","cyclesUntilLongBreak","Check","label","CONTINOUS_WORK_TEXT","START_TIMERS_AUTOMATICALLY_TEXT","ALWAYS_START_FULL_WORK_TEXT","additionalBreakTime","SimpleTaskManager","handleTextInputChange","taskInput","handleSaveClick","onTaskCreate","handleTaskSelected","onTaskSelected","createButtonVisible","tasks","some","task","toUpperCase","handleRemoveClick","confirm","getRemoveTaskConfirmationText","selectedTask","onTaskRemoved","handleMoreTasksToggleClick","showMore","handleClearInputButtonClick","visibleTasks","filter","x","includes","totalMaxVisibleCharacters","trimmed","reduce","totalCharacters","length","numberOfTrimmedTasks","moreTasksLabel","Container","inline","controlId","InputGroup","placeholder","CREATE_TASK_PLACEHOLDER_TEXT","Append","xmlns","height","viewBox","width","d","fill","size","REMOVE_TASK_BUTTON_TEXT","SAVE_NEW_TASK_BUTTON_TEXT","ToggleButtonGroup","name","flexWrap","ToggleButton","NO_TASK_TEXT","map","TOTALS_KEY","TaskTimes","formatSeconds","hours","minutes","timesMap","calculateTimes","prevProps","eventsTimestamp","totalToday","totalYesterday","totalThisWeek","totalThisMonth","events","isForToday","isToday","isForYesterday","isYesterday","isForThisWeek","isThisWeek","isForThisMonth","isThisMonth","undefined","today","yesterday","week","month","len","getTime","entries","entry","todayPercentage","getPercentage","yesterdayPercentage","weekPercentage","monthPercentage","percent","isNaN","Table","responsive","charAt","class","App","RESET_CONFIRMATION_TEXT","getStateForReset","onClickSettings","settingsVisible","onClickToggleCalendar","calendarVisible","storage","isEqual","onChangeSettings","settings","getDefaultState","defaultSettings","defaultState","stateForReset","handleTimerStateChange","timerState","handleShowNotification","notificationTitle","notifications","notificationsGranted","notificationQueued","setTimeout","clearNotificationQueue","createNotification","handleEventCreated","eventTitle","newEvent","title","color","newEvents","slice","setEventsTimestamp","handleTaskCreated","newTasks","unshift","splice","indexOf","handleTaskRemoved","e","handleAboutShow","showAboutModal","handleAboutClose","parse","requestPermission","then","result","plugins","timeGridPlugin","Helmet","defer","Collapse","in","Card","CloseButton","dayGridMonth","listPlugin","initialView","headerToolbar","right","slotDuration","eventDidMount","el","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","DefaultSettings","_workMinutes","_shortBreakMinutes","_longBreakMinutes","_longBreakFreq","_continousWork","_defaultState","BrowserNotifications","Notification","params","LocalStorage","JSON","localStorage","getItem","setItem","stringify","ReactDOM","render","basename","process","document","getElementById","URL","href","origin","addEventListener","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.dd4cd82a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nclass UserSettings extends React.Component {\r\n  onChangeWorkMinutes = (event) => {\r\n    this.props.onchange({\r\n      workMinutes: +event.target.value,\r\n    });\r\n  };\r\n\r\n  onChangeShortBreakMinutes = (event) => {\r\n    this.props.onchange({\r\n      shortBreakMinutes: +event.target.value,\r\n    });\r\n  };\r\n\r\n  onChangeLongBreakMinutes = (event) => {\r\n    this.props.onchange({\r\n      longBreakMinutes: +event.target.value,\r\n    });\r\n  };\r\n\r\n  onChangeLongBreakFreq = (event) => {\r\n    this.props.onchange({\r\n      longBreakFreq: +event.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form>\r\n        <Row>\r\n          <Col sm={6}>\r\n            <Form.Group as={Row}>\r\n              <Form.Label column xs={8}>\r\n                Work cycle minutes\r\n              </Form.Label>\r\n              <Col xs={4}>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={this.props.workMinutes}\r\n                  onChange={this.onChangeWorkMinutes}\r\n                />\r\n              </Col>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col sm={6}>\r\n            <Form.Group as={Row}>\r\n              <Form.Label column xs={8}>\r\n                Short break minutes\r\n              </Form.Label>\r\n              <Col xs={4}>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={this.props.shortBreakMinutes}\r\n                  onChange={this.onChangeShortBreakMinutes}\r\n                />\r\n              </Col>\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col sm={6}>\r\n            <Form.Group as={Row}>\r\n              <Form.Label column xs={8}>\r\n                Long break minutes\r\n              </Form.Label>\r\n              <Col xs={4}>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={this.props.longBreakMinutes}\r\n                  onChange={this.onChangeLongBreakMinutes}\r\n                />\r\n              </Col>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col sm={6}>\r\n            <Form.Group as={Row}>\r\n              <Form.Label column xs={8}>\r\n                Long break after n cycles\r\n              </Form.Label>\r\n              <Col xs={4}>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={this.props.longBreakFreq}\r\n                  onChange={this.onChangeLongBreakFreq}\r\n                />\r\n              </Col>\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserSettings;\r\n","export default class Constants {\r\n  static get CREATE_TASK_PLACEHOLDER_TEXT() {\r\n    return \"Enter task name...\";\r\n  }\r\n\r\n  static get SAVE_NEW_TASK_BUTTON_TEXT() {\r\n    return \"Save new task\";\r\n  }\r\n\r\n  static get NO_TASK_TEXT() {\r\n    return \"No task\";\r\n  }\r\n\r\n  static get GO_ON_A_BREAT_BUTTON_TEXT() {\r\n    return \"Go on a break\";\r\n  }\r\n\r\n  static get RETURN_TO_WORK_BUTTON_TEXT() {\r\n    return \"Return to work\";\r\n  }\r\n\r\n  static get START_WORKING_BUTTON_TEXT() {\r\n    return \"Start\";\r\n  }\r\n\r\n  static get HOLD_WORK_BUTTON_TEXT() {\r\n    return \"Hold\";\r\n  }\r\n\r\n  static get RESUME_WORK_BUTTON_TEXT() {\r\n    return \"Resume\";\r\n  }\r\n\r\n  static get CONTINOUS_WORK_TEXT() {\r\n    return \"Continous work\";\r\n  }\r\n\r\n  static get START_TIMERS_AUTOMATICALLY_TEXT() {\r\n    return \"Start new timers automatically\";\r\n  }\r\n\r\n  static get RESET_CONFIRMATION_TEXT() {\r\n    return \"Do you want to reset timer values? (tasks, events, settings etc. will be kept)\";\r\n  }\r\n\r\n  static get RESET_BUTTON_TEXT() {\r\n    return \"Reset\";\r\n  }\r\n\r\n  static get CONFIRM_HOLD_TIMER_BUTTON_TEXT() {\r\n    return \"Yes, hold timer\";\r\n  }\r\n\r\n  static get CONFIRM_HOLD_TIMER_MODAL_HEADER() {\r\n    return \"Warning!\";\r\n  }\r\n\r\n  static get CONFIRM_HOLD_TIMER_MODAL_TEXT() {\r\n    return 'This option should only be used if you\\'re stopping work for a significant amount of time. It should not be used for normal mid-work breaks - instead, please wait for the \"Go on a break\" button to become available.\\n\\nAre sure you want to hold the timer anyway?';\r\n  }\r\n\r\n  static get WORK_LABEL_TEXT() {\r\n    return \"Work\";\r\n  }\r\n\r\n  static get BREAK_LABEL_TEXT() {\r\n    return \"Break\";\r\n  }\r\n\r\n  static get BREAK_WILL_BECOME_AVAILABLE_TEXT() {\r\n    return \"A break will be available when the current work timer finishes.\";\r\n  }\r\n\r\n  static get REMOVE_TASK_BUTTON_TEXT() {\r\n    return \"Remove task\";\r\n  }\r\n\r\n  static getRemoveTaskConfirmationText(taskName) {\r\n    return `Are sure you want to remove the task \"${taskName}\"?`;\r\n  }\r\n\r\n  static get ALWAYS_START_FULL_WORK_TEXT() {\r\n    return \"Always start full work timer\";\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Constants from \"./Constants\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\r\nimport Tooltip from \"react-bootstrap/Tooltip\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\n\r\nclass Timer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (window.Worker) {\r\n      this.worker = new Worker(\"./worker.js\");\r\n      this.worker.onmessage = () => {\r\n        this.tick();\r\n      };\r\n    } else {\r\n      this.interval = setInterval(this.tick, 1000);\r\n    }\r\n    this.tick();\r\n    this.state = {\r\n      showHoldModal: false,\r\n    };\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.worker) {\r\n      this.worker.terminate();\r\n    } else {\r\n      clearInterval(this.interval);\r\n    }\r\n  }\r\n\r\n  formatSecondsAsTimer() {\r\n    let minutesPart = this.getTimerMinutes();\r\n    let secondsPart = this.getTimerSeconds();\r\n    return minutesPart + \":\" + secondsPart;\r\n  }\r\n\r\n  getTimerSeconds() {\r\n    return String(this.props.timerSeconds % 60).padStart(2, \"0\");\r\n  }\r\n\r\n  getTimerMinutes() {\r\n    return String(Math.floor(this.props.timerSeconds / 60)).padStart(2, \"0\");\r\n  }\r\n\r\n  formatSecondsAsText(seconds) {\r\n    seconds = Math.round(seconds);\r\n    let hoursPart = Math.floor(seconds / 3600) + \"\";\r\n    let hoursLabel = hoursPart === \"1\" ? \"hour\" : \"hours\";\r\n    seconds = seconds % 3600;\r\n    let minutesPart = Math.floor(seconds / 60) + \"\";\r\n    let minutesLabel = minutesPart === \"1\" ? \"minute\" : \"minutes\";\r\n    seconds = seconds % 60;\r\n    let secondsPart = (seconds % 60) + \"\";\r\n    let secondsLabel = secondsPart === \"1\" ? \"second\" : \"seconds\";\r\n    const formattedTime = (\r\n      (hoursPart !== \"0\" ? hoursPart + \" \" + hoursLabel + \" \" : \"\") +\r\n      (minutesPart !== \"0\" ? minutesPart + \" \" + minutesLabel + \" \" : \"\") +\r\n      (secondsPart !== \"0\" ? secondsPart + \" \" + secondsLabel : \"\")\r\n    ).trim();\r\n    return formattedTime || \"0 minutes\";\r\n  }\r\n\r\n  onClickStartWorking = () => {\r\n    this.setStateAndStorage({\r\n      isWork: true,\r\n      timerRunning: true,\r\n    });\r\n    this.markTimerStart(this.props.timerSeconds, Date.now());\r\n  };\r\n\r\n  onClickReturnToWork = () => {\r\n    const lastTimerSeconds = this.props.timerSeconds;\r\n    const newTimerSeconds =\r\n      (!this.props.alwaysStartFullWork && this.props.lastWorkTimerSeconds) ||\r\n      this.props.workMinutes * 60;\r\n    this.setStateAndStorage({\r\n      isWork: true,\r\n      timerSeconds: newTimerSeconds,\r\n    });\r\n    this.notifyCycleChange(false, lastTimerSeconds, newTimerSeconds);\r\n  };\r\n\r\n  onClickGoOnABreak = () => {\r\n    let availableBreakSeconds = Math.round(this.props.availableBreakSeconds);\r\n    const lastTimerSeconds = this.props.timerSeconds;\r\n    this.setStateAndStorage({\r\n      isWork: false,\r\n      timerSeconds: availableBreakSeconds,\r\n      availableBreakSeconds: availableBreakSeconds,\r\n    });\r\n    this.notifyCycleChange(true, lastTimerSeconds, availableBreakSeconds);\r\n  };\r\n\r\n  tick = () => {\r\n    if (!this.props.timerRunning) {\r\n      this.setStateAndStorage({\r\n        timerLastUpdatedAt: Date.now(),\r\n      });\r\n      return;\r\n    }\r\n\r\n    let now = Date.now();\r\n    let secondsDiff = Math.round((now - this.props.timerLastUpdatedAt) / 1000);\r\n    let newState = this.calculateNewState(secondsDiff, now);\r\n\r\n    this.setStateAndStorage(newState);\r\n  };\r\n\r\n  notifyCycleChange = (wasWork, oldTimerSeconds, newTimerSeconds) => {\r\n    const timerEndAt =\r\n      this.props.timerStartedAt +\r\n      (this.props.timerStartedWithSeconds - oldTimerSeconds) * 1000;\r\n    const event = {\r\n      wasWork: wasWork,\r\n      start: this.props.timerStartedAt,\r\n      end: timerEndAt,\r\n    };\r\n    this.props.onTimerFinish(event);\r\n    this.markTimerStart(newTimerSeconds, timerEndAt);\r\n  };\r\n\r\n  markTimerStart = (timerSeconds, timerStartedAt) => {\r\n    const newState = {\r\n      timerStartedAt: timerStartedAt,\r\n      timerStartedWithSeconds: timerSeconds,\r\n    };\r\n    this.props.setStateAndStorage(newState);\r\n  };\r\n\r\n  onClickHoldWork = () => {\r\n    this.setStateAndStorage({\r\n      timerRunning: false,\r\n    });\r\n    this.notifyCycleChange(\r\n      this.props.isWork,\r\n      this.props.timerSeconds,\r\n      this.props.timerSeconds\r\n    );\r\n    this.handleClose();\r\n  };\r\n\r\n  onClickResumeWork = () => {\r\n    this.setStateAndStorage({\r\n      timerRunning: true,\r\n    });\r\n    this.markTimerStart(this.props.timerSeconds, Date.now());\r\n  };\r\n\r\n  onChangeContinousWork = (event) => {\r\n    this.setStateAndStorage({\r\n      continousWork: event.target.checked,\r\n    });\r\n  };\r\n\r\n  onChangeAutoStartTimers = (event) => {\r\n    this.setStateAndStorage({\r\n      autoStartTimers: event.target.checked,\r\n    });\r\n  };\r\n\r\n  onChangeAlwaysStartFullWork = (event) => {\r\n    this.setStateAndStorage({\r\n      alwaysStartFullWork: event.target.checked,\r\n    });\r\n  };\r\n\r\n  setStateAndStorage = (newState) => {\r\n    this.props.setStateAndStorage(newState);\r\n  };\r\n\r\n  calculateNewState(secondsDiff, now) {\r\n    this.tempState = {\r\n      isWork: this.props.isWork,\r\n      totalWorkedSeconds: this.props.totalWorkedSeconds,\r\n      lastWorkTimerSeconds: this.props.lastWorkTimerSeconds,\r\n      availableBreakSeconds: this.props.availableBreakSeconds,\r\n      hiddenAvailableBreakSeconds: this.props.hiddenAvailableBreakSeconds,\r\n      timerLastUpdatedAt: this.props.timerLastUpdatedAt,\r\n      cycle: this.props.cycle,\r\n      continousWork: this.props.continousWork,\r\n      timerSeconds: this.props.timerSeconds,\r\n      totalCombinedTime: this.props.totalCombinedTime,\r\n    };\r\n\r\n    let cycleChanges = [];\r\n    let notificationToShow = null;\r\n\r\n    for (let secondsPassed = secondsDiff; secondsPassed > 0; secondsPassed--) {\r\n      this.tempState.timerSeconds--;\r\n      this.tempState.totalCombinedTime++;\r\n      if (this.tempState.isWork) {\r\n        this.tempState.totalWorkedSeconds++;\r\n        this.tempState.lastWorkTimerSeconds = this.tempState.timerSeconds;\r\n        let availableBreakSecondsIncrement =\r\n          (this.props.shortBreakMinutes * 1.0) / this.props.workMinutes;\r\n        if (\r\n          this.tempState.availableBreakSeconds >=\r\n          this.props.shortBreakMinutes * 60\r\n        ) {\r\n          this.tempState.availableBreakSeconds +=\r\n            availableBreakSecondsIncrement;\r\n        } else {\r\n          this.tempState.hiddenAvailableBreakSeconds +=\r\n            availableBreakSecondsIncrement;\r\n        }\r\n      } else {\r\n        this.tempState.availableBreakSeconds--;\r\n      }\r\n      this.tempState.timerLastUpdatedAt = now;\r\n      if (this.tempState.timerSeconds === 0) {\r\n        let isWork = this.tempState.isWork;\r\n        let stateChange = {};\r\n        if (isWork) {\r\n          let newCycle = this.tempState.cycle + 1;\r\n          let newAvailableBreakSeconds = this.tempState.availableBreakSeconds;\r\n          if (newCycle === this.props.longBreakFreq) {\r\n            newCycle = 0;\r\n            newAvailableBreakSeconds +=\r\n              this.props.longBreakMinutes * 60 -\r\n              this.props.shortBreakMinutes * 60;\r\n          }\r\n          newAvailableBreakSeconds +=\r\n            this.tempState.hiddenAvailableBreakSeconds;\r\n          newAvailableBreakSeconds = Math.round(newAvailableBreakSeconds);\r\n\r\n          let newTimerSeconds;\r\n          let newIsWork;\r\n\r\n          if (this.tempState.continousWork) {\r\n            newTimerSeconds = this.props.workMinutes * 60;\r\n            newIsWork = true;\r\n          } else {\r\n            newTimerSeconds = newAvailableBreakSeconds;\r\n            newIsWork = false;\r\n          }\r\n\r\n          stateChange = {\r\n            timerSeconds: newTimerSeconds,\r\n            availableBreakSeconds: newAvailableBreakSeconds,\r\n            hiddenAvailableBreakSeconds: 0,\r\n            isWork: newIsWork,\r\n            cycle: newCycle,\r\n          };\r\n        } else {\r\n          stateChange = {\r\n            timerSeconds:\r\n              (!this.props.alwaysStartFullWork &&\r\n                this.props.lastWorkTimerSeconds) ||\r\n              this.props.workMinutes * 60,\r\n            isWork: true,\r\n          };\r\n        }\r\n\r\n        stateChange.timerRunning = this.props.autoStartTimers;\r\n\r\n        const lastTimerSeconds = this.tempState.timerSeconds;\r\n        this.tempState = Object.assign(this.tempState, stateChange);\r\n\r\n        notificationToShow = isWork ? \"Work finished\" : \"Break finished\";\r\n\r\n        cycleChanges.push({\r\n          isWork: isWork,\r\n          lastTimerSeconds: lastTimerSeconds,\r\n          newTimerSeconds: this.tempState.timerSeconds\r\n        });\r\n      }\r\n    }\r\n\r\n    cycleChanges.forEach((cycleChange) => {\r\n      this.notifyCycleChange(\r\n        cycleChange.isWork,\r\n        cycleChange.lastTimerSeconds,\r\n        cycleChange.newTimerSeconds\r\n      );\r\n    });\r\n\r\n    if (notificationToShow) {\r\n      this.props.showNotification(notificationToShow);\r\n    }\r\n\r\n    return this.tempState;\r\n  }\r\n\r\n  get cyclesUntilLongBreak() {\r\n    return this.props.longBreakFreq - this.props.cycle;\r\n  }\r\n\r\n  handleShow = () => {\r\n    this.setState({\r\n      showHoldModal: true,\r\n    });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({\r\n      showHoldModal: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Modal show={this.state.showHoldModal} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              {Constants.CONFIRM_HOLD_TIMER_MODAL_HEADER}\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>{Constants.CONFIRM_HOLD_TIMER_MODAL_TEXT}</Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.handleClose}>\r\n              No\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={this.onClickHoldWork}>\r\n              {Constants.CONFIRM_HOLD_TIMER_BUTTON_TEXT}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <Row className=\"mt-3\">\r\n          <Col>\r\n            <ButtonGroup>\r\n              {this.props.timerRunning === true && (\r\n                <Button variant=\"outline-warning\" onClick={this.handleShow}>\r\n                  {Constants.HOLD_WORK_BUTTON_TEXT}\r\n                </Button>\r\n              )}\r\n              {this.props.timerRunning === false && (\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={this.onClickResumeWork}\r\n                  data-testid=\"resume-work-btn\"\r\n                >\r\n                  {Constants.RESUME_WORK_BUTTON_TEXT}\r\n                </Button>\r\n              )}\r\n              {this.props.isWork === null && (\r\n                <Button\r\n                  variant=\"success\"\r\n                  onClick={this.onClickStartWorking}\r\n                  data-testid=\"start-working-btn\"\r\n                >\r\n                  {Constants.START_WORKING_BUTTON_TEXT}\r\n                </Button>\r\n              )}\r\n              {this.props.isWork !== null && (\r\n                <Button\r\n                  variant=\"outline-dark\"\r\n                  onClick={this.props.onClickReset}\r\n                  data-testid=\"reset-btn\"\r\n                >\r\n                  {Constants.RESET_BUTTON_TEXT}\r\n                </Button>\r\n              )}\r\n            </ButtonGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <h3 className=\"mt-3\">\r\n              {this.props.isWork === true\r\n                ? Constants.WORK_LABEL_TEXT\r\n                : this.props.isWork === false\r\n                ? Constants.BREAK_LABEL_TEXT\r\n                : \"\"}\r\n            </h3>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <h1 data-testid=\"timer\">\r\n              {this.getTimerMinutes() + \":\" + this.getTimerSeconds()}\r\n            </h1>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            {this.props.isWork === true ? (\r\n              <>\r\n                {!this.props.availableBreakSeconds ? (\r\n                  <>\r\n                    <OverlayTrigger\r\n                      overlay={\r\n                        <Tooltip id=\"tooltip-disabled\">\r\n                          {Constants.BREAK_WILL_BECOME_AVAILABLE_TEXT}\r\n                        </Tooltip>\r\n                      }\r\n                    >\r\n                      <span className=\"d-inline-block\">\r\n                        <Button\r\n                          disabled\r\n                          variant=\"success\"\r\n                          style={{ pointerEvents: \"none\" }}\r\n                        >\r\n                          {Constants.GO_ON_A_BREAT_BUTTON_TEXT}\r\n                        </Button>\r\n                      </span>\r\n                    </OverlayTrigger>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Button variant=\"success\" onClick={this.onClickGoOnABreak}>\r\n                      {Constants.GO_ON_A_BREAT_BUTTON_TEXT}\r\n                    </Button>\r\n                  </>\r\n                )}\r\n              </>\r\n            ) : null}\r\n            {this.props.isWork === false ? (\r\n              <>\r\n                <Button variant=\"secondary\" onClick={this.onClickReturnToWork}>\r\n                  {Constants.RETURN_TO_WORK_BUTTON_TEXT}\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col sm={6} className=\"font-weight-light text-md-right\">\r\n            Total time worked:\r\n          </Col>\r\n          <Col sm={6} className=\"text-md-left\" data-testid=\"totalWorkedTime\">\r\n            {this.formatSecondsAsText(this.props.totalWorkedSeconds)}\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col sm={6} className=\"font-weight-light text-md-right\">\r\n            Available break time:\r\n          </Col>\r\n          <Col sm={6} className=\"text-md-left\" data-testid=\"availableBreakTime\">\r\n            {this.formatSecondsAsText(this.props.availableBreakSeconds)}\r\n          </Col>\r\n        </Row>\r\n        {this.props.isWork &&\r\n          this.props.availableBreakSeconds <\r\n            this.props.shortBreakMinutes * 60 && (\r\n            <Row>\r\n              <Col\r\n                xs={12}\r\n                sm={{ span: 6, offset: 6 }}\r\n                className=\"text-md-left text-muted font-weight-light small\"\r\n              >\r\n                +{\" \"}\r\n                <span data-testid=\"futureAdditionBreakTime\">\r\n                  {this.getFutureAdditionBreakTime()}\r\n                </span>{\" \"}\r\n                after work timer finishes\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        <Row>\r\n          <Col sm={6} className=\"font-weight-light text-md-right\">\r\n            Cycles until long break ({this.props.longBreakMinutes} minutes):\r\n          </Col>\r\n          <Col sm={6} className=\"text-md-left\" data-testid=\"longBreakInfo\">\r\n            {this.cyclesUntilLongBreak}\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col sm={6} className=\"font-weight-light text-md-right\">\r\n            Total time (work + break):\r\n          </Col>\r\n          <Col sm={6} className=\"text-md-left\" data-testid=\"totalCombinedTime\">\r\n            {this.formatSecondsAsText(this.props.totalCombinedTime)}\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Check\r\n              type=\"checkbox\"\r\n              label={Constants.CONTINOUS_WORK_TEXT}\r\n              checked={this.props.continousWork}\r\n              id=\"cont-work-check\"\r\n              data-testid=\"cont-work\"\r\n              onChange={this.onChangeContinousWork}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Check\r\n              type=\"checkbox\"\r\n              label={Constants.START_TIMERS_AUTOMATICALLY_TEXT}\r\n              checked={this.props.autoStartTimers}\r\n              id=\"auto-start-timers-check\"\r\n              data-testid=\"auto-start-timers\"\r\n              onChange={this.onChangeAutoStartTimers}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Check\r\n              type=\"checkbox\"\r\n              label={Constants.ALWAYS_START_FULL_WORK_TEXT}\r\n              checked={this.props.alwaysStartFullWork}\r\n              id=\"full-work-check\"\r\n              data-testid=\"full-work\"\r\n              onChange={this.onChangeAlwaysStartFullWork}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n\r\n  getFutureAdditionBreakTime() {\r\n    let additionalBreakTime = Math.round(\r\n      this.props.hiddenAvailableBreakSeconds +\r\n        ((this.props.timerSeconds * 1.0) / (this.props.workMinutes * 60.0)) *\r\n          this.props.shortBreakMinutes *\r\n          60\r\n    );\r\n    if (this.props.cycle === this.props.longBreakFreq - 1) {\r\n      additionalBreakTime +=\r\n        (this.props.longBreakMinutes - this.props.shortBreakMinutes) * 60;\r\n    }\r\n    return this.formatSecondsAsText(additionalBreakTime);\r\n  }\r\n}\r\n\r\nexport default Timer;\r\n","import React from \"react\";\r\nimport Constants from \"./Constants\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport ToggleButtonGroup from \"react-bootstrap/ToggleButtonGroup\";\r\nimport ToggleButton from \"react-bootstrap/ToggleButton\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { InputGroup } from \"react-bootstrap\";\r\n\r\nclass SimpleTaskManager extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      taskInput: \"\",\r\n      showMore: false,\r\n    };\r\n  }\r\n\r\n  handleTextInputChange = (event) => {\r\n    const value = event.target.value;\r\n    this.setState({\r\n      taskInput: value,\r\n    });\r\n  };\r\n\r\n  handleSaveClick = () => {\r\n    this.props.onTaskCreate(this.state.taskInput.trim());\r\n    this.setState({\r\n      taskInput: \"\",\r\n    });\r\n  };\r\n\r\n  handleTaskSelected = (value) => {\r\n    this.props.onTaskSelected(value);\r\n  };\r\n\r\n  getVisibleTasks() {\r\n    let visibleTasks = this.props.tasks\r\n      ? this.props.tasks.filter((x) =>\r\n          x.toUpperCase().includes(this.state.taskInput.toUpperCase())\r\n        )\r\n      : [];\r\n    if (this.props.totalMaxVisibleCharacters) {\r\n      let trimmed = [];\r\n      visibleTasks.reduce((totalCharacters, task) => {\r\n        if (totalCharacters < this.props.totalMaxVisibleCharacters) {\r\n          trimmed.push(task);\r\n        }\r\n        return totalCharacters + task.length;\r\n      }, 0);\r\n      return trimmed;\r\n    } else {\r\n      return visibleTasks;\r\n    }\r\n  }\r\n\r\n  createButtonVisible = () => {\r\n    return (\r\n      this.state.taskInput &&\r\n      this.state.taskInput.trim() !== \"\" &&\r\n      (!this.props.tasks ||\r\n        !this.props.tasks.some(\r\n          (task) => task.toUpperCase() === this.state.taskInput.toUpperCase()\r\n        ))\r\n    );\r\n  };\r\n\r\n  handleRemoveClick = () => {\r\n    if (\r\n      window.confirm(\r\n        Constants.getRemoveTaskConfirmationText(this.props.selectedTask)\r\n      )\r\n    ) {\r\n      this.props.onTaskRemoved(this.props.selectedTask);\r\n    }\r\n  };\r\n\r\n  handleMoreTasksToggleClick = () => {\r\n    this.setState({\r\n      showMore: !this.state.showMore,\r\n    });\r\n  };\r\n\r\n  handleClearInputButtonClick = () => {\r\n    this.setState({\r\n      taskInput: \"\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let numberOfTrimmedTasks = 0;\r\n    let visibleTasks = this.props.tasks\r\n      ? this.props.tasks.filter((x) =>\r\n          x.toUpperCase().includes(this.state.taskInput.toUpperCase())\r\n        )\r\n      : [];\r\n    if (this.props.totalMaxVisibleCharacters) {\r\n      let trimmed = [];\r\n      visibleTasks.reduce((totalCharacters, task) => {\r\n        if (totalCharacters < this.props.totalMaxVisibleCharacters) {\r\n          trimmed.push(task);\r\n        }\r\n        return totalCharacters + task.length;\r\n      }, 0);\r\n      numberOfTrimmedTasks = visibleTasks.length - trimmed.length;\r\n      if (!this.state.showMore) {\r\n        visibleTasks = trimmed;\r\n      }\r\n    }\r\n    let moreTasksLabel = this.state.showMore\r\n      ? \"show less\"\r\n      : \"show \" + numberOfTrimmedTasks + \" more\";\r\n    return (\r\n      <Container>\r\n        <Row className=\"mb-2\">\r\n          <Col xs={9}>\r\n            <Form inline>\r\n              <Form.Group controlId=\"taskInput\" className=\"mr-1\">\r\n                <InputGroup>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    onChange={this.handleTextInputChange}\r\n                    placeholder={Constants.CREATE_TASK_PLACEHOLDER_TEXT}\r\n                    value={this.state.taskInput}\r\n                  ></Form.Control>\r\n                  {this.state.taskInput !== \"\" && (\r\n                    <InputGroup.Append>\r\n                      <Button\r\n                        as=\"span\"\r\n                        onClick={this.handleClearInputButtonClick}\r\n                        variant=\"light\"\r\n                        data-testid=\"clear-input-btn\"\r\n                      >\r\n                        <svg\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          height=\"24\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          width=\"24\"\r\n                        >\r\n                          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                          <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" />\r\n                        </svg>\r\n                      </Button>\r\n                    </InputGroup.Append>\r\n                  )}\r\n                </InputGroup>\r\n              </Form.Group>\r\n            </Form>\r\n          </Col>\r\n          {this.props.selectedTask && (\r\n            <Col xs={3}>\r\n              <Button\r\n                variant=\"outline-danger\"\r\n                size=\"sm\"\r\n                onClick={this.handleRemoveClick}\r\n                className=\"float-right\"\r\n              >\r\n                {Constants.REMOVE_TASK_BUTTON_TEXT}\r\n              </Button>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n        {this.createButtonVisible() ? (\r\n          <Row>\r\n            <Col>\r\n              <Button\r\n                type=\"primary\"\r\n                onClick={this.handleSaveClick}\r\n                className=\"float-left\"\r\n              >\r\n                {Constants.SAVE_NEW_TASK_BUTTON_TEXT} \"{this.state.taskInput}\"\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        ) : null}\r\n        <Row>\r\n          <Col>\r\n            <ToggleButtonGroup\r\n              type=\"radio\"\r\n              name=\"tasks\"\r\n              style={{ flexWrap: \"wrap\" }}\r\n              className=\"float-left\"\r\n              value={this.props.selectedTask}\r\n              onChange={this.handleTaskSelected}\r\n            >\r\n              <ToggleButton id=\"radio-null\" value=\"\">\r\n                {Constants.NO_TASK_TEXT}\r\n              </ToggleButton>\r\n              {visibleTasks.map((task) => {\r\n                return (\r\n                  <ToggleButton\r\n                    id={\"radio-\" + task}\r\n                    value={task}\r\n                    data-testid={\"button-\" + task}\r\n                    key={task}\r\n                  >\r\n                    {task}\r\n                  </ToggleButton>\r\n                );\r\n              })}\r\n            </ToggleButtonGroup>\r\n            {numberOfTrimmedTasks > 0 && (\r\n              <Button\r\n                variant=\"light\"\r\n                className=\"float-left\"\r\n                data-testid=\"more-tasks-btn\"\r\n                onClick={this.handleMoreTasksToggleClick}\r\n              >\r\n                {moreTasksLabel}\r\n              </Button>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SimpleTaskManager;\r\n","import React from \"react\";\r\nimport { isToday, isYesterday, isThisWeek, isThisMonth } from \"date-fns\";\r\nimport Constants from \"./Constants\";\r\nimport Table from \"react-bootstrap/Table\";\r\n\r\nconst TOTALS_KEY = \"@@@TOTALS\";\r\n\r\nclass TaskTimes extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      timesMap: this.calculateTimes(),\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.eventsTimestamp !== prevProps.eventsTimestamp) {\r\n      this.setState({\r\n        timesMap: this.calculateTimes(),\r\n      });\r\n    }\r\n  }\r\n\r\n  formatSeconds = (seconds) => {\r\n    seconds /= 1000;\r\n    let hours = Math.floor(seconds / 3600);\r\n    let minutes = Math.floor((seconds % 3600) / 60);\r\n    return `${hours}h${minutes}m`;\r\n  };\r\n\r\n  calculateTimes() {\r\n    const timesMap = {};\r\n    let totalToday = 0,\r\n      totalYesterday = 0,\r\n      totalThisWeek = 0,\r\n      totalThisMonth = 0;\r\n    this.props.events.forEach((event) => {\r\n      if (!event.isWork) {\r\n        return;\r\n      }\r\n      let isForToday = isToday(event.start);\r\n      let isForYesterday = isYesterday(event.start);\r\n      let isForThisWeek = isThisWeek(event.start);\r\n      let isForThisMonth = isThisMonth(event.start);\r\n      if (!isForToday && !isForYesterday && !isForThisWeek && !isForThisMonth) {\r\n        return;\r\n      }\r\n      let taskName = event.task;\r\n      if (\r\n        taskName === null ||\r\n        taskName === undefined ||\r\n        taskName === \"\" ||\r\n        taskName === \"null\"\r\n      ) {\r\n        taskName = Constants.NO_TASK_TEXT;\r\n      }\r\n      if (!(taskName in timesMap)) {\r\n        timesMap[taskName] = {\r\n          today: 0,\r\n          yesterday: 0,\r\n          week: 0,\r\n          month: 0,\r\n        };\r\n      }\r\n      if (event.end !== undefined) {\r\n        let len = event.end.getTime() - event.start.getTime();\r\n        if (isForToday) {\r\n          timesMap[taskName].today += len;\r\n          totalToday += len;\r\n        } else if (isForYesterday) {\r\n          timesMap[taskName].yesterday += len;\r\n          totalYesterday += len;\r\n        }\r\n        if (isForThisWeek) {\r\n          timesMap[taskName].week += len;\r\n          totalThisWeek += len;\r\n        }\r\n        if (isForThisMonth) {\r\n          timesMap[taskName].month += len;\r\n          totalThisMonth += len;\r\n        }\r\n      }\r\n    });\r\n    Object.entries(timesMap).forEach((entry) => {\r\n      entry[1].todayPercentage = this.getPercentage(entry[1].today, totalToday);\r\n      entry[1].yesterdayPercentage = this.getPercentage(\r\n        entry[1].yesterday,\r\n        totalYesterday\r\n      );\r\n      entry[1].weekPercentage = this.getPercentage(\r\n        entry[1].week,\r\n        totalThisWeek\r\n      );\r\n      entry[1].monthPercentage = this.getPercentage(\r\n        entry[1].month,\r\n        totalThisMonth\r\n      );\r\n    });\r\n    timesMap[TOTALS_KEY] = {\r\n      today: totalToday,\r\n      yesterday: totalYesterday,\r\n      week: totalThisWeek,\r\n      month: totalThisMonth,\r\n    };\r\n    return timesMap;\r\n  }\r\n\r\n  getPercentage(today, totalToday) {\r\n    const percent = Math.round((today / totalToday) * 100);\r\n    return !isNaN(percent) ? percent + \"%\" : \"-\";\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Table size=\"sm\" responsive>\r\n        <thead>\r\n          <tr>\r\n            <th>Task</th>\r\n            <th>Today</th>\r\n            <th>%</th>\r\n            <th>Yesterday</th>\r\n            <th>%</th>\r\n            <th>Week</th>\r\n            <th>%</th>\r\n            <th>Month</th>\r\n            <th>%</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Object.entries(this.state.timesMap)\r\n            .filter((entry) => entry[0] !== TOTALS_KEY)\r\n            .map((entry) => (\r\n              <tr key={entry[0]}>\r\n                <td>{entry[0]}</td>\r\n                <td\r\n                  data-testid={\"today-\" + entry[0].charAt(0) + entry[0].length}\r\n                >\r\n                  {this.formatSeconds(entry[1].today)}\r\n                </td>\r\n                <td\r\n                  data-testid={\"todayp-\" + entry[0].charAt(0) + entry[0].length}\r\n                >\r\n                  {entry[1].todayPercentage}\r\n                </td>\r\n                <td\r\n                  data-testid={\r\n                    \"yesterday-\" + entry[0].charAt(0) + entry[0].length\r\n                  }\r\n                >\r\n                  {this.formatSeconds(entry[1].yesterday)}\r\n                </td>\r\n                <td\r\n                  data-testid={\r\n                    \"yesterdayp-\" + entry[0].charAt(0) + entry[0].length\r\n                  }\r\n                >\r\n                  {entry[1].yesterdayPercentage}\r\n                </td>\r\n                <td\r\n                  data-testid={\"week-\" + entry[0].charAt(0) + entry[0].length}\r\n                >\r\n                  {this.formatSeconds(entry[1].week)}\r\n                </td>\r\n                <td\r\n                  data-testid={\"weekp-\" + entry[0].charAt(0) + entry[0].length}\r\n                >\r\n                  {entry[1].weekPercentage}\r\n                </td>\r\n                <td\r\n                  data-testid={\"month-\" + entry[0].charAt(0) + entry[0].length}\r\n                >\r\n                  {this.formatSeconds(entry[1].month)}\r\n                </td>\r\n                <td\r\n                  data-testid={\"monthp-\" + entry[0].charAt(0) + entry[0].length}\r\n                >\r\n                  {entry[1].monthPercentage}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          <tr class=\"font-italic\">\r\n            <td>Total</td>\r\n            <td data-testid={\"today-total\"}>\r\n              {this.formatSeconds(this.state.timesMap[TOTALS_KEY].today)}\r\n            </td>\r\n            <td data-testid={\"todayp-total\"}>100%</td>\r\n            <td data-testid={\"yesterday-total\"}>\r\n              {this.formatSeconds(this.state.timesMap[TOTALS_KEY].yesterday)}\r\n            </td>\r\n            <td data-testid={\"yesterdayp-total\"}>100%</td>\r\n            <td data-testid={\"week-total\"}>\r\n              {this.formatSeconds(this.state.timesMap[TOTALS_KEY].week)}\r\n            </td>\r\n            <td data-testid={\"weekp-total\"}>100%</td>\r\n            <td data-testid={\"month-total\"}>\r\n              {this.formatSeconds(this.state.timesMap[TOTALS_KEY].month)}\r\n            </td>\r\n            <td data-testid={\"monthp-total\"}>100%</td>\r\n          </tr>\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TaskTimes;\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport \"./App.css\";\r\nimport UserSettings from \"./UserSettings\";\r\nimport Timer from \"./Timer\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport dayGridMonth from \"@fullcalendar/daygrid\";\r\nimport listPlugin from \"@fullcalendar/list\";\r\nimport SimpleTaskManager from \"./SimpleTaskManager\";\r\nimport TaskTimes from \"./TaskTimes\";\r\nimport Constants from \"./Constants\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Collapse from \"react-bootstrap/Collapse\";\r\nimport CloseButton from \"react-bootstrap/CloseButton\";\r\nimport isEqual from \"lodash/isEqual\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.defaultSettings = props.defaultSettings;\r\n    this.storage = props.storage;\r\n    this.state = this.getDefaultState();\r\n    if (this.storage && this.storage.state) {\r\n      this.state = Object.assign(this.state, this.storage.state);\r\n      this.state.events.forEach((e) => {\r\n        e.start = new Date(Date.parse(e.start));\r\n        e.end = new Date(Date.parse(e.end));\r\n      });\r\n    }\r\n    if (props.notifications) {\r\n      this.notifications = props.notifications;\r\n      this.notifications.requestPermission().then((result) => {\r\n        if (result === \"granted\") {\r\n          this.notificationsGranted = true;\r\n        }\r\n      });\r\n    }\r\n    this.plugins = [timeGridPlugin];\r\n  }\r\n\r\n  onClickReset = () => {\r\n    if (window.confirm(Constants.RESET_CONFIRMATION_TEXT)) {\r\n      this.setStateAndStorage(this.getStateForReset());\r\n    }\r\n  };\r\n\r\n  onClickSettings = () => {\r\n    this.setState({\r\n      settingsVisible: !this.state.settingsVisible,\r\n    });\r\n  };\r\n\r\n  onClickToggleCalendar = () => {\r\n    this.setState({\r\n      calendarVisible: !this.state.calendarVisible,\r\n    });\r\n  };\r\n\r\n  setStateAndStorage = (state) => {\r\n    this.setState(state);\r\n    if (this.storage && !isEqual(this.storage.state, state)) {\r\n      this.storage.state = Object.assign(this.state, state);\r\n    }\r\n  };\r\n\r\n  onChangeSettings = (settings) => {\r\n    this.setStateAndStorage(settings);\r\n  };\r\n\r\n  getDefaultState = () => {\r\n    return Object.assign({}, this.defaultSettings.defaultState);\r\n  };\r\n\r\n  getStateForReset = () => {\r\n    const stateForReset = this.getDefaultState();\r\n    stateForReset.continousWork = this.state.continousWork;\r\n    stateForReset.autoStartTimers = this.state.autoStartTimers;\r\n    stateForReset.workMinutes = this.state.workMinutes;\r\n    stateForReset.shortBreakMinutes = this.state.shortBreakMinutes;\r\n    stateForReset.longBreakMinutes = this.state.longBreakMinutes;\r\n    stateForReset.longBreakFreq = this.state.longBreakFreq;\r\n    stateForReset.timerSeconds = this.state.workMinutes * 60;\r\n    stateForReset.events = this.state.events;\r\n    stateForReset.tasks = this.state.tasks;\r\n    return stateForReset;\r\n  };\r\n\r\n  handleTimerStateChange = (timerState) => {\r\n    this.setStateAndStorage(timerState);\r\n  };\r\n\r\n  handleShowNotification = (notificationTitle) => {\r\n    if (this.notifications && this.notificationsGranted) {\r\n      if (!this.notificationQueued) {\r\n        // makes sure that notifications are sent not more frequently than 10 seconds apart\r\n        this.notificationQueued = true;\r\n        setTimeout(this.clearNotificationQueue, 10000);\r\n        this.notifications.createNotification(notificationTitle);\r\n      }\r\n    }\r\n  };\r\n\r\n  clearNotificationQueue = () => {\r\n    this.notificationQueued = null;\r\n  };\r\n\r\n  handleEventCreated = (event) => {\r\n    let eventTitle = event.wasWork ? \"Work\" : \"Break\";\r\n    if (this.state.selectedTask && event.wasWork) {\r\n      eventTitle += \" (\" + this.state.selectedTask + \")\";\r\n    }\r\n    const newEvent = {\r\n      title: eventTitle,\r\n      isWork: event.wasWork,\r\n      start: new Date(event.start),\r\n      end: new Date(event.end),\r\n      color: event.wasWork ? \"#3788d8\" : \"orange\",\r\n      task: this.state.selectedTask,\r\n    };\r\n    if (newEvent.start.getTime() === newEvent.end.getTime()) {\r\n      return;\r\n    }\r\n    let newEvents = [...this.state.events, newEvent];\r\n    if (\r\n      newEvents.length > 1 &&\r\n      newEvents[newEvents.length - 1].isWork ===\r\n        newEvents[newEvents.length - 2].isWork &&\r\n      newEvents[newEvents.length - 2].end.getTime() ===\r\n        newEvents[newEvents.length - 1].start.getTime() &&\r\n      newEvents[newEvents.length - 1].task ===\r\n        newEvents[newEvents.length - 2].task\r\n    ) {\r\n      newEvents = newEvents.slice(0, newEvents.length - 1);\r\n      newEvents[newEvents.length - 1].end = new Date(event.end);\r\n    }\r\n    this.setStateAndStorage({\r\n      events: newEvents,\r\n    });\r\n    this.setEventsTimestamp();\r\n  };\r\n\r\n  handleTaskCreated = (task) => {\r\n    let newTasks = this.state.tasks;\r\n    newTasks.unshift(task);\r\n    this.setStateAndStorage({\r\n      tasks: newTasks,\r\n    });\r\n    this.setEventsTimestamp();\r\n  };\r\n\r\n  handleTaskSelected = (task) => {\r\n    const end =\r\n      this.state.timerStartedAt +\r\n      (this.state.timerStartedWithSeconds - this.state.timerSeconds) * 1000;\r\n    this.handleEventCreated({\r\n      wasWork: this.state.isWork,\r\n      start: this.state.timerStartedAt,\r\n      end: end,\r\n    });\r\n\r\n    let newTasks = this.state.tasks;\r\n    if (task) {\r\n      newTasks.splice(this.state.tasks.indexOf(task), 1);\r\n      newTasks.splice(0, 0, task);\r\n    }\r\n\r\n    this.setStateAndStorage({\r\n      timerStartedAt: end,\r\n      timerStartedWithSeconds: this.state.timerSeconds,\r\n      selectedTask: task,\r\n      tasks: newTasks,\r\n    });\r\n  };\r\n\r\n  handleTaskRemoved = (task) => {\r\n    let newTasks = this.state.tasks;\r\n    newTasks.splice(newTasks.indexOf(task), 1);\r\n    let newEvents = this.state.events.filter((e) => e.task !== task);\r\n    this.setState({\r\n      tasks: newTasks,\r\n      events: newEvents,\r\n      eventsTimestamp: Date.now(),\r\n      selectedTask:\r\n        this.state.selectedTask === task ? null : this.state.selectedTask,\r\n    });\r\n  };\r\n\r\n  setEventsTimestamp = () => {\r\n    this.setState({\r\n      eventsTimestamp: Date.now(),\r\n    });\r\n  };\r\n\r\n  handleAboutShow = () => {\r\n    this.setState({\r\n      showAboutModal: true,\r\n    });\r\n  };\r\n\r\n  handleAboutClose = () => {\r\n    this.setState({\r\n      showAboutModal: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Helmet defer={false}>\r\n          <title>\r\n            {String(Math.floor(this.state.timerSeconds / 60)).padStart(2, \"0\") +\r\n              \":\" +\r\n              String(this.state.timerSeconds % 60).padStart(2, \"0\")}{\" \"}\r\n            {this.state.isWork === true\r\n              ? \"Work\"\r\n              : this.state.isWork === false\r\n              ? \"Break\"\r\n              : \"\"}\r\n            {this.state.isWork && this.state.selectedTask\r\n              ? \" (\" + this.state.selectedTask + \")\"\r\n              : \"\"}\r\n          </title>\r\n        </Helmet>\r\n        <Container>\r\n          <Modal\r\n            size=\"lg\"\r\n            show={this.state.showAboutModal}\r\n            onHide={this.handleAboutClose}\r\n          >\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>About</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <p>\r\n                Productivity timer that enables you to work in \"25 minutes work\r\n                - 5 minutes break\" model, but designed to be tolerant of\r\n                situations when you cannot go on a break when you should or when\r\n                you are forced to cut your break short and go back to work right\r\n                now. The goal of the app is to always calculate the amount of\r\n                break time you are entitled to.\r\n              </p>\r\n              <p>\r\n                Features:\r\n                <ul>\r\n                  <li>\r\n                    work in sessions that are at least 25 minutes long, but\r\n                    extend them at will as much as you want - the app will\r\n                    calculate the correct amount of break time available to you\r\n                    at all times\r\n                  </li>\r\n                  <li>\r\n                    get back to work before finishing your break and be able to\r\n                    reclaim the remaining break time later\r\n                  </li>\r\n                  <li>\r\n                    track how much time you spent on a given task, with\r\n                    precision down to minutes\r\n                  </li>\r\n                  <li>configure work and break times per your needs</li>\r\n                  <li>\r\n                    you may safely close the app when the timer is running -\r\n                    when you open the app again, the correct app state will be\r\n                    calculated, taking into account how much time has passed\r\n                    (this also applies to forceful shutdowns like system crashes\r\n                    or power outages)\r\n                  </li>\r\n                  <li>\r\n                    100% private - all the data is kept locally on your device,\r\n                    nothing is sent to the server - in fact, there is no server\r\n                    backend at all\r\n                  </li>\r\n                </ul>\r\n              </p>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button onClick={this.handleAboutClose}>Close</Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n          <Row>\r\n            <Col>\r\n              <Button\r\n                variant=\"link\"\r\n                onClick={this.handleAboutShow}\r\n                className=\"float-right\"\r\n              >\r\n                About\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n          <Timer\r\n            timerSeconds={this.state.timerSeconds}\r\n            lastWorkTimerSeconds={this.state.lastWorkTimerSeconds}\r\n            totalWorkedSeconds={this.state.totalWorkedSeconds}\r\n            isWork={this.state.isWork}\r\n            availableBreakSeconds={this.state.availableBreakSeconds}\r\n            hiddenAvailableBreakSeconds={this.state.hiddenAvailableBreakSeconds}\r\n            totalCombinedTime={this.state.totalCombinedTime}\r\n            cycle={this.state.cycle}\r\n            timerRunning={this.state.timerRunning}\r\n            continousWork={this.state.continousWork}\r\n            timerLastUpdatedAt={this.state.timerLastUpdatedAt}\r\n            autoStartTimers={this.state.autoStartTimers}\r\n            alwaysStartFullWork={this.state.alwaysStartFullWork}\r\n            workMinutes={this.state.workMinutes}\r\n            shortBreakMinutes={this.state.shortBreakMinutes}\r\n            longBreakMinutes={this.state.longBreakMinutes}\r\n            longBreakFreq={this.state.longBreakFreq}\r\n            timerStartedAt={this.state.timerStartedAt}\r\n            timerStartedWithSeconds={this.state.timerStartedWithSeconds}\r\n            setStateAndStorage={this.handleTimerStateChange}\r\n            showNotification={this.handleShowNotification}\r\n            onTimerFinish={this.handleEventCreated}\r\n            onClickReset={this.onClickReset}\r\n          />\r\n          <Row className=\"mt-2 mb-2\">\r\n            <Col>\r\n              <Button variant=\"outline-dark\" onClick={this.onClickSettings}>\r\n                Settings\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"mb-3\">\r\n            <Col>\r\n              <Collapse in={this.state.settingsVisible}>\r\n                <div>\r\n                  <Card>\r\n                    <Card.Header>\r\n                      <CloseButton onClick={this.onClickSettings} />\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                      <UserSettings\r\n                        workMinutes={this.state.workMinutes}\r\n                        shortBreakMinutes={this.state.shortBreakMinutes}\r\n                        longBreakMinutes={this.state.longBreakMinutes}\r\n                        longBreakFreq={this.state.longBreakFreq}\r\n                        onchange={this.onChangeSettings}\r\n                      />\r\n                    </Card.Body>\r\n                  </Card>\r\n                </div>\r\n              </Collapse>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"mb-3\">\r\n            <Col>\r\n              <SimpleTaskManager\r\n                onTaskCreate={this.handleTaskCreated}\r\n                onTaskSelected={this.handleTaskSelected}\r\n                tasks={this.state.tasks}\r\n                selectedTask={this.state.selectedTask}\r\n                onTaskRemoved={this.handleTaskRemoved}\r\n                eventsTimestamp={this.state.eventsTimestamp}\r\n                totalMaxVisibleCharacters={255}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"mb-3\">\r\n            <Col>\r\n              <TaskTimes\r\n                events={this.state.events}\r\n                eventsTimestamp={this.state.eventsTimestamp}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"mb-2\">\r\n            <Col>\r\n              <Button\r\n                variant=\"outline-dark\"\r\n                data-testid=\"toggle-calendar-btn\"\r\n                onClick={this.onClickToggleCalendar}\r\n              >\r\n                {this.state.calendarVisible ? \"Hide calendar\" : \"Show calendar\"}\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <Collapse in={this.state.calendarVisible}>\r\n                <Card>\r\n                  <Card.Body>\r\n                    {this.state.calendarVisible && (\r\n                      <FullCalendar\r\n                        events={this.state.events}\r\n                        plugins={[timeGridPlugin, dayGridMonth, listPlugin]}\r\n                        initialView=\"timeGridWeek\"\r\n                        headerToolbar={{\r\n                          right:\r\n                            \"today prev,next dayGridMonth,timeGridWeek,timeGridDay listWeek\",\r\n                        }}\r\n                        slotDuration=\"00:10:00\"\r\n                        height={650}\r\n                        eventDidMount={function (event) {\r\n                          event.el.title = event.event.title;\r\n                        }}\r\n                      />\r\n                    )}\r\n                  </Card.Body>\r\n                </Card>\r\n              </Collapse>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import Settings from \"./Settings\";\r\n\r\nclass DefaultSettings extends Settings {\r\n  constructor() {\r\n    const workMinutes = 25;\r\n    const shortBreakMinutes = 5;\r\n    const longBreakMinutes = 10;\r\n    const longBreakFreq = 4;\r\n    const continousWork = true;\r\n\r\n    super(\r\n      workMinutes,\r\n      shortBreakMinutes,\r\n      longBreakMinutes,\r\n      longBreakFreq,\r\n      continousWork,\r\n      {\r\n        timerSeconds: workMinutes * 60,\r\n        lastWorkTimerSeconds: workMinutes * 60,\r\n        totalWorkedSeconds: 0,\r\n        isWork: null,\r\n        availableBreakSeconds: 0,\r\n        hiddenAvailableBreakSeconds: 0,\r\n        totalCombinedTime: 0,\r\n        cycle: 0,\r\n        notificationsGranted: false,\r\n        timerRunning: null,\r\n        continousWork: continousWork,\r\n        timerLastUpdatedAt: Date.now(),\r\n        autoStartTimers: true,\r\n        alwaysStartFullWork: true,\r\n        workMinutes: workMinutes,\r\n        shortBreakMinutes: shortBreakMinutes,\r\n        longBreakMinutes: longBreakMinutes,\r\n        longBreakFreq: longBreakFreq,\r\n        settingsVisible: false,\r\n        calendarVisible: false,\r\n        events: [],\r\n        timerStartedAt: null,\r\n        timerStartedWithSeconds: null,\r\n        tasks: [],\r\n        selectedTask: \"\"\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\nexport default DefaultSettings;\r\n","class Settings {\r\n  constructor(\r\n    workMinutes,\r\n    shortBreakMinutes,\r\n    longBreakMinutes,\r\n    longBreakFreq,\r\n    continousWork,\r\n    defaultState\r\n  ) {\r\n    this._workMinutes = workMinutes;\r\n    this._shortBreakMinutes = shortBreakMinutes;\r\n    this._longBreakMinutes = longBreakMinutes;\r\n    this._longBreakFreq = longBreakFreq;\r\n    this._continousWork = continousWork;\r\n    this._defaultState = defaultState;\r\n  }\r\n\r\n  get workMinutes() {\r\n    return this._workMinutes;\r\n  }\r\n\r\n  get shortBreakMinutes() {\r\n    return this._shortBreakMinutes;\r\n  }\r\n\r\n  get longBreakMinutes() {\r\n    return this._longBreakMinutes;\r\n  }\r\n\r\n  get longBreakFreq() {\r\n    return this._longBreakFreq;\r\n  }\r\n\r\n  get continousWork() {\r\n    return this._continousWork;\r\n  }\r\n\r\n  get defaultState() {\r\n    return this._defaultState;\r\n  }\r\n}\r\n\r\nexport default Settings;\r\n","class BrowserNotifications {\r\n  requestPermission() {\r\n    return Notification.requestPermission();\r\n  }\r\n\r\n  createNotification(title, params) {\r\n    new Notification(title, params);\r\n  }\r\n}\r\n\r\nexport default BrowserNotifications;\r\n","class LocalStorage {\r\n  get state() {\r\n    return JSON.parse(localStorage.getItem(\"timer_state\"));\r\n  }\r\n\r\n  set state(state) {\r\n    localStorage.setItem(\"timer_state\", JSON.stringify(state));\r\n  }\r\n}\r\n\r\nexport default LocalStorage;\r\n","import \"./custom.scss\";\r\nimport \"@fontsource/signika\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport DefaultSettings from \"./DefaultSettings\";\r\nimport BrowserNotifications from \"./BrowserNotifications\";\r\nimport LocalStorage from \"./LocalStorage\";\r\n\r\nReactDOM.render(\r\n  <App\r\n    basename={process.env.PUBLIC_URL}\r\n    defaultSettings={new DefaultSettings()}\r\n    notifications={new BrowserNotifications()}\r\n    storage={new LocalStorage()}\r\n  />,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}